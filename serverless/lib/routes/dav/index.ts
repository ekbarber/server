import express from 'express';

const router = express.Router()

router.propfind('/files/eddie', async (req, res)=>{
	const response=[
	`<?xml version="1.0"?>`,
	`<d:multistatus xmlns:d="DAV:" xmlns:s="http://sabredav.org/ns" xmlns:oc="http://owncloud.org/ns" xmlns:nc="http://nextcloud.org/ns"><d:response><d:href>/remote.php/dav/files/eddie/</d:href><d:propstat><d:prop><d:getlastmodified>Mon, 17 Oct 2022 01:46:01 GMT</d:getlastmodified><d:getetag>&quot;634cb3d9cf83e&quot;</d:getetag><d:resourcetype><d:collection/></d:resourcetype><oc:fileid>2</oc:fileid><oc:permissions>RGDNVCK</oc:permissions><oc:size>164</oc:size><d:quota-available-bytes>-3</d:quota-available-bytes><nc:has-preview>false</nc:has-preview><nc:mount-type></nc:mount-type><nc:is-encrypted>0</nc:is-encrypted><x1:share-permissions xmlns:x1="http://open-collaboration-services.org/ns">31</x1:share-permissions><nc:share-attributes>[]</nc:share-attributes><oc:tags/><oc:favorite>0</oc:favorite><oc:owner-id>eddie</oc:owner-id><oc:owner-display-name>eddie</oc:owner-display-name><oc:share-types/><oc:comments-unread>0</oc:comments-unread></d:prop><d:status>HTTP/1.1 200 OK</d:status></d:propstat><d:propstat><d:prop><d:getcontenttype/><d:getcontentlength/></d:prop><d:status>HTTP/1.1 404 Not Found</d:status></d:propstat></d:response><d:response><d:href>/remote.php/dav/files/eddie/test/</d:href><d:propstat><d:prop><d:getlastmodified>Mon, 17 Oct 2022 01:46:01 GMT</d:getlastmodified><d:getetag>&quot;634cb3d9c4a2c&quot;</d:getetag><d:resourcetype><d:collection/></d:resourcetype><oc:fileid>32</oc:fileid><oc:permissions>RGDNVCK</oc:permissions><oc:size>0</oc:size><d:quota-available-bytes>-3</d:quota-available-bytes><nc:has-preview>false</nc:has-preview><nc:mount-type></nc:mount-type><nc:is-encrypted>0</nc:is-encrypted><x1:share-permissions xmlns:x1="http://open-collaboration-services.org/ns">31</x1:share-permissions><nc:share-attributes>[]</nc:share-attributes><oc:tags/><oc:favorite>0</oc:favorite><oc:owner-id>eddie</oc:owner-id><oc:owner-display-name>eddie</oc:owner-display-name><oc:share-types/><oc:comments-unread>0</oc:comments-unread></d:prop><d:status>HTTP/1.1 200 OK</d:status></d:propstat><d:propstat><d:prop><d:getcontenttype/><d:getcontentlength/></d:prop><d:status>HTTP/1.1 404 Not Found</d:status></d:propstat></d:response><d:response><d:href>/remote.php/dav/files/eddie/welcome.txt</d:href><d:propstat><d:prop><d:getlastmodified>Mon, 17 Oct 2022 01:30:12 GMT</d:getlastmodified><d:getetag>&quot;78fd6d2f1ea0199d7fd6147a9fb24006&quot;</d:getetag><d:getcontenttype>text/plain</d:getcontenttype><d:resourcetype/><oc:fileid>3</oc:fileid><oc:permissions>RGDNVW</oc:permissions><oc:size>164</oc:size><d:getcontentlength>164</d:getcontentlength><nc:has-preview>true</nc:has-preview><nc:mount-type></nc:mount-type><x1:share-permissions xmlns:x1="http://open-collaboration-services.org/ns">19</x1:share-permissions><nc:share-attributes>[]</nc:share-attributes><oc:tags/><oc:favorite>0</oc:favorite><oc:owner-id>eddie</oc:owner-id><oc:owner-display-name>eddie</oc:owner-display-name><oc:share-types/><oc:comments-unread>0</oc:comments-unread></d:prop><d:status>HTTP/1.1 200 OK</d:status></d:propstat><d:propstat><d:prop><d:quota-available-bytes/><nc:is-encrypted/></d:prop><d:status>HTTP/1.1 404 Not Found</d:status></d:propstat></d:response></d:multistatus>`
	]

	res.type('application/xml')
	res.status(207).send(response.join('\n'))
	return;
})

export = router
